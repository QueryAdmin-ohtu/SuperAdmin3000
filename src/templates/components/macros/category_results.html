{% import "components/macros/buttons.html" as buttons %}
{% import "components/macros/form_elements.html" as form_elements %}
{% import "components/macros/survey_elements.html" as survey %}


{% macro category_result_field(category_result, survey_id) %}
{# A card displaying category_result information
    Args:
        category_result: The category_result item
#}
    
    <div class="flex flex-col gap-2">
        <div class="flex flex-grow"></div>
            <div class="flex flex-col gap-2 w-full">
                {{ form_elements.label("name", "Name") }}
                {{ form_elements.text_area("category_result-" ~ category_result[0], "Category Result", "", false, category_result[2]) }}
            </div>
            <div class="flex flex-col gap-2 w-full">
                {{ form_elements.label("name", "Cutoff") }}
                {{ form_elements.number_input("cutoff-" ~ category_result[0], "points-" ~ category_result[0], "Points", "", false, "0", "1", "0.01", category_result[3]) }}
            </div>      
            <div class="flex flex-grow">
                <form method="POST">
                    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
                    <input type="hidden" name="survey_id" value="{{survey_id}}">
                    <input type="hidden" name="category_id" value="{{category_result[1]}}">
                    <div class="inline-flex" role="group">
                        <span style="margin-right: 10px;">{{ form_elements.submit_button("Save", "", "null")}}</span>
                        {% if category_result[3]!=1 %}
                            <span>{{ form_elements.submit_button("Delete", "destructive", "/delete_category_result/%s" % (category_result[0])) }}</span>
                        {% endif %}
                    </div>
                </form>
            </div>
    </div>
    

{% endmacro %}

